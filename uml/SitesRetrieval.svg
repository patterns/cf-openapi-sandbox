<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="598px" preserveAspectRatio="none" style="width:531px;height:598px;" version="1.1" viewBox="0 0 531 598" width="531px" zoomAndPan="magnify"><defs><filter height="300%" id="fmm6tw1ku31bf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="118" x="205.5" y="26.708">"Sites (read)"</text><ellipse cx="216.5" cy="40.9531" fill="#000000" filter="url(#fmm6tw1ku31bf)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="190" x="121.5" y="92.3521"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="170" x="131.5" y="113.4907">File Exist Check "sites.json"</text><polygon fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" points="200,146.3208,233,146.3208,245,158.3208,233,170.3208,200,170.3208,188,158.3208,200,146.3208" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="200" y="162.1289">exist?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="168" y="155.7266">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="245" y="155.7266">no</text><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="148" x="10" y="180.3208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="20" y="201.4595">Read file "sites.json"</text><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="342" x="178" y="180.3208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="322" x="188" y="201.4595">Create "sites.json" from copying "sites-default.json"</text><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="196" x="251" y="234.2896"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="176" x="261" y="255.4282">Read file "sites-default.json"</text><polygon fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" points="216.5,274.2583,228.5,286.2583,216.5,298.2583,204.5,286.2583,216.5,274.2583" style="stroke: #383838; stroke-width: 1.5;"/><polygon fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" points="190,318.2583,243,318.2583,255,330.2583,243,342.2583,190,342.2583,178,330.2583,190,318.2583" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="190" y="334.0664">success?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="13" x="165" y="327.6641">ok</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="255" y="327.6641">no</text><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="191" x="43.5" y="352.2583"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="53.5" y="373.397">Convert bytes to text/string</text><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="140" x="69" y="406.2271"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="79" y="427.3657">Parse into JSON obj</text><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="79" x="254.5" y="352.2583"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="264.5" y="373.397">Error 500</text><polygon fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" points="216.5,446.1958,228.5,458.1958,216.5,470.1958,204.5,458.1958,216.5,446.1958" style="stroke: #383838; stroke-width: 1.5;"/><rect fill="#F8F8F8" filter="url(#fmm6tw1ku31bf)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="118" x="157.5" y="490.1958"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="167.5" y="511.3345">Write Response</text><ellipse cx="216.5" cy="576.5635" fill="#FFFFFF" filter="url(#fmm6tw1ku31bf)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="216.5" cy="576.5635" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="50.9531" y2="92.3521"/><polygon fill="#383838" points="212.5,82.3521,216.5,92.3521,220.5,82.3521,216.5,86.3521" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="220.5" y="72.2578">GET /api/sites</text><line style="stroke: #383838; stroke-width: 1.5;" x1="349" x2="349" y1="214.2896" y2="234.2896"/><polygon fill="#383838" points="345,224.2896,349,234.2896,353,224.2896,349,228.2896" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="188" x2="84" y1="158.3208" y2="158.3208"/><line style="stroke: #383838; stroke-width: 1.5;" x1="84" x2="84" y1="158.3208" y2="180.3208"/><polygon fill="#383838" points="80,170.3208,84,180.3208,88,170.3208,84,174.3208" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="245" x2="349" y1="158.3208" y2="158.3208"/><line style="stroke: #383838; stroke-width: 1.5;" x1="349" x2="349" y1="158.3208" y2="180.3208"/><polygon fill="#383838" points="345,170.3208,349,180.3208,353,170.3208,349,174.3208" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="84" x2="84" y1="214.2896" y2="286.2583"/><line style="stroke: #383838; stroke-width: 1.5;" x1="84" x2="204.5" y1="286.2583" y2="286.2583"/><polygon fill="#383838" points="194.5,282.2583,204.5,286.2583,194.5,290.2583,198.5,286.2583" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="349" x2="349" y1="268.2583" y2="286.2583"/><line style="stroke: #383838; stroke-width: 1.5;" x1="349" x2="228.5" y1="286.2583" y2="286.2583"/><polygon fill="#383838" points="238.5,282.2583,228.5,286.2583,238.5,290.2583,234.5,286.2583" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="126.3208" y2="146.3208"/><polygon fill="#383838" points="212.5,136.3208,216.5,146.3208,220.5,136.3208,216.5,140.3208" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="139" x2="139" y1="386.2271" y2="406.2271"/><polygon fill="#383838" points="135,396.2271,139,406.2271,143,396.2271,139,400.2271" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="178" x2="139" y1="330.2583" y2="330.2583"/><line style="stroke: #383838; stroke-width: 1.5;" x1="139" x2="139" y1="330.2583" y2="352.2583"/><polygon fill="#383838" points="135,342.2583,139,352.2583,143,342.2583,139,346.2583" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="255" x2="294" y1="330.2583" y2="330.2583"/><line style="stroke: #383838; stroke-width: 1.5;" x1="294" x2="294" y1="330.2583" y2="352.2583"/><polygon fill="#383838" points="290,342.2583,294,352.2583,298,342.2583,294,346.2583" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="139" x2="139" y1="440.1958" y2="458.1958"/><line style="stroke: #383838; stroke-width: 1.5;" x1="139" x2="204.5" y1="458.1958" y2="458.1958"/><polygon fill="#383838" points="194.5,454.1958,204.5,458.1958,194.5,462.1958,198.5,458.1958" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="294" x2="294" y1="386.2271" y2="458.1958"/><line style="stroke: #383838; stroke-width: 1.5;" x1="294" x2="228.5" y1="458.1958" y2="458.1958"/><polygon fill="#383838" points="238.5,454.1958,228.5,458.1958,238.5,462.1958,234.5,458.1958" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="298.2583" y2="318.2583"/><polygon fill="#383838" points="212.5,308.2583,216.5,318.2583,220.5,308.2583,216.5,312.2583" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="470.1958" y2="490.1958"/><polygon fill="#383838" points="212.5,480.1958,216.5,490.1958,220.5,480.1958,216.5,484.1958" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="524.1646" y2="565.5635"/><polygon fill="#383838" points="212.5,555.5635,216.5,565.5635,220.5,555.5635,216.5,559.5635" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="220.5" y="545.4692">Close Stream</text><!--MD5=[2e9fb8f9b5d5852f06d25876ae472d4a]
@startuml SitesRetrieval

title "Sites (read)"

skinparam monochrome true
start
-> GET /api/sites;

:File Exist Check "sites.json";
if (exist?) then (yes)
  :Read file "sites.json";
else (no)
  :Create "sites.json" from copying "sites-default.json";
  :Read file "sites-default.json";
endif

if (success?) then (ok)
  :Convert bytes to text/string;
  :Parse into JSON obj;
else (no)
  :Error 500;
endif

:Write Response;
-> Close Stream;
stop
@enduml

PlantUML version 1.2020.02(Sun Mar 01 02:22:07 PST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.15+6-Debian-1deb12u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>